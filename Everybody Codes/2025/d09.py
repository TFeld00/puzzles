DAY,_,_=__file__.rpartition('.')

from itertools import *


# ---

r=[]

with open(f'{DAY}a.txt','r')as F:
    for l in F:
        l=l.rstrip('\n')
        r+=[l[2:]]
        
R=0
for q,w,e in combinations(r,3):
    for a,b,c in [q,w,e],[w,e,q],[e,q,w]:
        F=0
        x=y=0
        for i,j,k in zip(a,b,c):
            x+=i==j
            y+=i==k
            if i!=j and i!=k:
                F=1
        if not F:
            R+=x*y
            break
print(R)


# ---

r=[]

with open(f'{DAY}b.txt','r')as F:
    for l in F:
        l=l.rstrip('\n')
        r+=[l.split(':')[1]]

R=0
for q,w,e in combinations(r,3):
    for a,b,c in [q,w,e],[w,e,q],[e,q,w]:
        F=0
        x=y=0
        for i,j,k in zip(a,b,c):
            x+=i==j
            y+=i==k
            if i!=j and i!=k:
                F=1
                break
        if not F:
            R+=x*y
            break
print(R)


# ---

r=[]

with open(f'{DAY}c.txt','r')as F:
    for l in F:
        l=l.rstrip('\n')
        r+=[l.split(':')]

d={}

# "saved" once calculated to quicken further programming.
d={'2': ['275', '462'], '3': ['4', '401'], '7': ['74', '442'], '10': ['269', '396'], '11': ['108', '352'], '12': ['18', '334'], '13': ['130', '370'], '15': ['18', '193'], '16': ['26', '150'], '17': ['50', '193'], '19': ['34', '50'], '20': ['243', '351'], '32': ['98', '219'], '36': ['286', '488'], '37': ['141', '184'], '38': ['272', '380'], '39': ['4', '179'], '40': ['151', '207'], '41': ['121', '401'], '45': ['67', '74'], '48': ['51', '320'], '49': ['31', '353'], '52': ['354', '488'], '55': ['116', '266'], '56': ['329', '471'], '58': ['171', '230'], '60': ['163', '180'], '63': ['105', '201'], '64': ['229', '238'], '65': ['68', '394'], '69': ['64', '259'], '70': ['105', '301'], '72': ['127', '245'], '73': ['8', '383'], '75': ['234', '370'], '77': ['244', '470'], '82': ['99', '285'], '86': ['17', '360'], '87': ['27', '267'], '89': ['163', '385'], '90': ['105', '244'], '91': ['157', '368'], '95': ['28', '112'], '98': ['215', '479'], '99': ['199', '240'], '101': ['180', '443'], '103': ['273', '402'], '106': ['215', '234'], '107': ['375', '449'], '109': ['212', '425'], '115': ['150', '274'], '116': ['3', '41'], '117': ['351', '352'], '119': ['210', '263'], '120': ['147', '316'], '122': ['180', '187'], '123': ['437', '484'], '125': ['260', '425'], '126': ['316', '390'], '127': ['68', '150'], '129': ['263', '278'], '132': ['123', '222'], '133': ['37', '87'], '139': ['72', '281'], '140': ['171', '179'], '145': ['206', '294'], '146': ['291', '447'], '147': ['277', '281'], '149': ['139', '147'], '151': ['353', '472'], '157': ['206', '418'], '158': ['351', '488'], '160': ['187', '385'], '162': ['31', '247'], '163': ['133', '328'], '165': ['40', '204'], '167': ['9', '244'], '168': ['371', '445'], '174': ['28', '494'], '178': ['138', '243'], '180': ['133', '252'], '181': ['51', '179'], '183': ['238', '270'], '187': ['133', '369'], '188': ['273', '320'], '189': ['185', '402'], '190': ['260', '300'], '191': ['192', '420'], '199': ['31', '53'], '203': ['272', '462'], '204': ['207', '257'], '206': ['109', '125'], '207': ['9', '247'], '210': ['116', '266'], '211': ['44', '137'], '213': ['139', '390'], '214': ['35', '329'], '218': ['75', '132'], '219': ['269', '479'], '221': ['44', '150'], '222': ['67', '138'], '223': ['432', '444'], '224': ['442', '484'], '225': ['259', '454'], '227': ['238', '471'], '228': ['94', '231'], '233': ['67', '420'], '235': ['268', '368'], '236': ['83', '334'], '240': ['301', '410'], '241': ['8', '230'], '242': ['45', '222'], '245': ['232', '479'], '249': ['18', '148'], '252': ['12', '249'], '254': ['145', '268'], '257': ['31', '105'], '259': ['82', '265'], '261': ['263', '414'], '262': ['10', '211'], '263': ['266', '309'], '265': ['40', '99'], '266': ['41', '455'], '268': ['206', '418'], '271': ['192', '483'], '276': ['210', '278'], '277': ['98', '358'], '278': ['266', '284'], '279': ['147', '322'], '281': ['10', '287'], '284': ['189', '419'], '285': ['323', '458'], '287': ['137', '255'], '290': ['74', '488'], '291': ['242', '308'], '292': ['5', '367'], '294': ['190', '331'], '296': ['184', '275'], '297': ['165', '490'], '299': ['123', '356'], '304': ['130', '215'], '307': ['231', '438'], '308': ['372', '393'], '309': ['39', '140'], '316': ['32', '72'], '318': ['362', '375'], '322': ['32', '72'], '323': ['42', '43'], '328': ['236', '476'], '331': ['47', '329'], '333': ['329', '463'], '341': ['94', '231'], '344': ['370', '398'], '349': ['42', '472'], '350': ['471', '494'], '356': ['108', '432'], '358': ['21', '370'], '359': ['268', '428'], '360': ['18', '24'], '362': ['299', '308'], '364': ['274', '396'], '368': ['206', '294'], '369': ['37', '236'], '371': ['92', '105'], '372': ['33', '74'], '374': ['165', '490'], '375': ['132', '386'], '378': ['26', '215'], '379': ['184', '380'], '381': ['44', '234'], '382': ['362', '375'], '385': ['252', '328'], '386': ['178', '271'], '390': ['277', '281'], '393': ['437', '442'], '397': ['23', '260'], '403': ['121', '401'], '408': ['193', '433'], '409': ['267', '326'], '414': ['116', '266'], '418': ['190', '350'], '419': ['171', '179'], '423': ['35', '300'], '426': ['35', '288'], '428': ['294', '431'], '431': ['350', '426'], '434': ['210', '278'], '435': ['465', '490'], '441': ['51', '230'], '443': ['86', '252'], '445': ['5', '31'], '446': ['238', '270'], '447': ['132', '242'], '448': ['23', '288'], '449': ['299', '308'], '452': ['272', '275'], '454': ['419', '455'], '455': ['4', '273'], '457': ['23', '392'], '458': ['154', '201'], '465': ['40', '99'], '466': ['165', '265'], '467': ['157', '428'], '468': ['362', '375'], '476': ['18', '24'], '480': ['43', '92'], '486': ['201', '410'], '490': ['40', '285'], '491': ['112', '329'], '493': ['64', '183'], '497': ['34', '148'], '498': ['57', '438'], '500': ['83', '184']}


R=0
if not d:
    for q,w,e in combinations(r,3):
        for a,b,c in [q,w,e],[w,e,q],[e,q,w]:
            A,a=a
            B,b=b
            C,c=c
            F=0
            for i,j,k in zip(a,b,c):
                if i!=j and i!=k:
                    F=1
                    break
            if not F:
                d[A]=[B,C]
                break
    print(d)


P={}
S={}
def find(x):
    while P[x] and P[x]!=x:
        P[x]=P[P[x]]
        x=P[x]
    return x

def union(x,y):
    x=find(x)
    y=find(y)
    if x!=y:
        if S[x]<S[y]:
            x,y=y,x
    P[y]=x
    S[x]+=S[y]

for A,_ in r:
    P[A]=A
    S[A]=1

for v,(x,y) in d.items():
    union(v,x)
    union(v,y)

d={}
for A,_ in r:
    v=find(A)
    d[v]=(d.get(v,[])+[A])

m=max(d.values(),key=len)
print(sum(map(int,m)))